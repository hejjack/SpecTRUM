command: ../predict_db_search.py --output-folder predictions --config-file configs/predict_db_search_sss.yaml
  --num-workers 64
dataset:
  data_split: valid
  dataset_name: NIST
  query_data: data/nist/valid.jsonl
  reference_data: data/nist/train.jsonl
filtering_args:
  max_mol_repr_len: 100
  max_mz: 500
  max_num_peaks: 300
  mol_repr: smiles
general:
  additional_naming_info: ''
  num_candidates: 50
  ranking_function: sss
start_loading_time: 22/10/2024 22:39:44
finished_time_utc: 23/10/2024 05:04:17
generation_time: 06:24:07
wall_time_utc: 06:24:32
evaluation_0:
    average_num_of_predictions: '43.610817333286015'
    db_search:
        mean_db_score: '0.3873157933415626'
        mean_fpsd_score_probsort: '-0.002937186823171242'
        mean_fpsd_score_similsort: '0.1585291830212078'
        rate_of_BART_wins_probsort: '0.027327252723852787'
        rate_of_BART_wins_similsort: '0.7458920396067715'
        rate_of_ties_probsort: '0.2541079603932285'
        rate_of_ties_similsort: '0.2541079603932285'
        ties:
            mean_tie_simils_probsort: '0.6722550132073478'
            mean_tie_simils_similsort: '0.6857442077396334'
            num_of_ties_probsort: '7160'
            num_of_ties_simils_equal_to_1_probsort: '1805'
            num_of_ties_simils_equal_to_1_similsort: '1823'
            num_of_ties_similsort: '7160'
            rate_of_ties_simils_equal_to_1_probsort: '0.2520949720670391'
            rate_of_ties_simils_equal_to_1_similsort: '0.254608938547486'
    eval_config:
        do_db_search: true
        filtering_args:
            max_mol_repr_len: 100
            max_mz: 500
            max_num_peaks: 300
            mol_repr: smiles
        fingerprint_type: morgan
        fp_simil_function: tanimoto
        on_the_fly: true
        save_best_predictions: true
        threshold: 0.85
    eval_time: 00:04:01
    formula_stats:
        num_all_correct_formulas: 36957 / 1228822
        num_at_least_one_correct_formula: '12278'
        num_correct_formulas_at_best_prob: '6746'
        num_correct_formulas_at_best_simil: '6807'
        rate_of_all_correct_formulas: '0.030075145139003046'
        rate_of_at_least_one_correct_formula: '0.43574546616034354'
        rate_of_correct_formulas_at_best_prob: '0.23941512581183236'
        rate_of_correct_formulas_at_best_simil: '0.24158001206657911'
    hit_at_k_prob: '[(1, 0.06452070837917451), (2, 0.07680022713560705), (3, 0.08265606700500408),
        (4, 0.08631153068105192), (5, 0.08836994711999148), (6, 0.09039287362032863),
        (7, 0.09170600134861767), (8, 0.09280618944529226), (9, 0.09383539766476204),
        (10, 0.09450970649820775), (11, 0.09525499520885829), (12, 0.09607126379671363),
        (13, 0.09667459275295454), (14, 0.0970294921389786), (15, 0.09741988146360507),
        (16, 0.09781027078823154), (17, 0.09812968023565319), (18, 0.09841359974447245),
        (19, 0.09869751925329169), (20, 0.09919437839372539), (21, 0.09954927777974944),
        (22, 0.0998331972885687), (23, 0.10029456649039997), (24, 0.10061397593782163),
        (25, 0.10086240550803847), (26, 0.10121730489406253), (27, 0.10164318415729141),
        (28, 0.10192710366611066), (29, 0.1022110231749299), (30, 0.10253043262235156),
        (31, 0.102743372253966), (32, 0.10288533200837563), (33, 0.10302729176278524),
        (34, 0.10320474145579728), (35, 0.1033112112716045), (36, 0.10345317102601413),
        (37, 0.10355964084182134), (38, 0.10359513078042375), (39, 0.10377258047343578),
        (40, 0.103879050289243), (41, 0.10405649998225502), (42, 0.10416296979806225),
        (43, 0.10423394967526706), (44, 0.10430492955247188), (45, 0.10434041949107428),
        (48, 0.10441139936827909), (49, 0.10451786918408631), (50, 0.10455335912268872)]'
    labels_path: data/nist/valid_with_db_index.jsonl
    molecular_weight_stats:
        mean_mw_difference_best_prob: '42.211695056076614'
        mean_mw_difference_best_simil: '42.10278389154936'
        rate_of_exact_mw_prob: '0.23281399723178478'
        rate_of_exact_mw_simil: '0.1631827376938638'
        rate_of_exact_nominal_mw_prob: '0.32892075096710083'
        rate_of_exact_nominal_mw_simil: '0.22280583454590625'
        rate_of_mw_difference_less_than_1_best_prob: '0.33477659083649786'
        rate_of_mw_difference_less_than_1_best_simil: '0.23430457465308585'
    num_datapoints_tested: '28177'
    num_empty_preds: '0'
    num_predictions_at_k_counter: '[28177, 28177, 28177, 28177, 28177, 28177, 28177,
        28177, 28177, 28177, 28177, 28177, 28177, 28177, 28177, 28176, 28175, 28175,
        28165, 28157, 28137, 28113, 28092, 28062, 28021, 27951, 27880, 27759, 27654,
        27470, 27267, 26989, 26709, 26385, 25940, 25470, 24867, 24131, 23276, 22272,
        21106, 19864, 18523, 16860, 14956, 12810, 10519, 8309, 6098, 3829]'
    precise_preds_stats:
        num_precise_preds_probsort: '0'
        num_precise_preds_similsort: '0'
        rate_of_precise_preds_probsort: '0.0'
        rate_of_precise_preds_similsort: '0.0'
    simil_1_hits:
        counter_multiple_hits: dict_items([(3, 281), (4, 260), (9, 219), (10, 134),
            (1, 450), (2, 319), (12, 33), (6, 273), (5, 246), (7, 263), (8, 263),
            (15, 19), (11, 74), (14, 25), (28, 2), (13, 30), (21, 6), (22, 4), (18,
            5), (23, 6), (25, 3), (16, 8), (30, 1), (20, 7), (31, 1), (24, 4), (26,
            2), (19, 2), (29, 1), (17, 4), (33, 1)])
        num_1_hits_as_first_probsort: '1818'
        num_1_hits_as_first_similsort: '2946'
        num_fp_simil_fail_prob: '1818'
        num_fp_simil_fail_simil: '2946'
        rate_of_1_hits_as_first_probsort: '0.06452070837917451'
        rate_of_1_hits_as_first_similsort: '0.10455335912268872'
    start_time_utc: 23/10/2024 11:45:28
    threshold_stats:
        num_better_than_threshold_probsort: '2416'
        num_better_than_threshold_similsort: '4322'
        rate_of_better_than_threshold_probsort: '0.08574369166341342'
        rate_of_better_than_threshold_similsort: '0.15338751463959968'
        threshold: '0.85'
    topk_probsort: '[0.38437860651839134, 0.33054032985353743, 0.3049576242601059,
        0.2884309890037758, 0.27569956918277366, 0.26553050143497386, 0.2600834228277214,
        0.2513233065114817, 0.24481906512996296, 0.23849048752615315, 0.23403203419705407,
        0.22813992334470917, 0.22432742818105653, 0.21948755696946087, 0.21726957153388585,
        0.21523099041453217, 0.21358374783288292, 0.21071571934354663, 0.2085707471771999,
        0.20726657547381674, 0.20483777968362263, 0.20353507132249785, 0.2021967217715916,
        0.20012474838901398, 0.19878073823645373, 0.19734469286665235, 0.19536586118058008,
        0.19424016530362886, 0.19254015070610944, 0.19185783508004564, 0.19128576339454734,
        0.1896310718797727, 0.18846807164974608, 0.18749892940631852, 0.186383602318448,
        0.18644257248164695, 0.18577160351670466, 0.18656427721679236, 0.18653569505633377,
        0.18788251665652037, 0.18926970140890917, 0.19134977322737431, 0.1936239195025508,
        0.1973777264541243, 0.2049178687094976, 0.2130054560166908, 0.226462667221533,
        0.24751905689394454, 0.2760781717855081, 0.33224982470625525]'
    topk_similsort: '[0.5458449763627704, 0.4597900842298479, 0.4146095791498536,
        0.384278226069557, 0.36128805853917084, 0.3418518671781999, 0.3249637020269983,
        0.31001724498565386, 0.29614550354562336, 0.28352587762701315, 0.27234948445678014,
        0.2621833332895005, 0.25313751830112985, 0.2448405269908793, 0.23715968660849693,
        0.23015112423458572, 0.22362794984197035, 0.21747047054935614, 0.21165185679635518,
        0.20598114994797442, 0.20062295808523128, 0.19523704232035335, 0.1899474633851983,
        0.18471521239891994, 0.17977713766461917, 0.17486153030716495, 0.17001741100298318,
        0.16564430913328732, 0.16121772005320356, 0.15702018831356196, 0.15283204043006002,
        0.14884777151106257, 0.144954721807178, 0.1408614993389286, 0.1373656412161505,
        0.1337641080324101, 0.13054957500083253, 0.12770274618079683, 0.12514013488361767,
        0.12289882115652863, 0.12121903201106252, 0.11991366652100095, 0.11843710853365641,
        0.11814741601858772, 0.11948817485140013, 0.12280627120382123, 0.12867986653906252,
        0.13668915425510833, 0.1488308370501518, 0.1676078055633294]'
