Tue, 28 Mar 2023 19:28:30 data_preprocess_all.py[line:178] INFO CONFIG:
tmp_dir: ../datasets/tmp
log_dir: ../datasets/log
output_dir: ../datasets
phases_to_perform: [1, 2, 3, 4, 5, 6]
data_has_header: True
max_smiles_len: 100
max_mz: 499
max_peaks: 200
seq_len: 200
log_base: 1.7
spectra_generator: neims
train_split_ratio: 0.9
valid_split_ratio: 0.05
test_split_ratio: 0.05
tokenizer_path: /storage/brno2/home/ahajek/Spektro/MassGenie/tokenizer/bbpe_tokenizer/bart_bbpe_1K_tokenizer.model
neims_dir: /storage/brno2/home/ahajek/Spektro/NEIMS
seed: 42

Tue, 28 Mar 2023 19:28:30 data_preprocess_all.py[line:182] INFO PARAMETERS:
dataset_id = 1K
smiles_path = {smiles_path}
num_workers = {num_workers}
config_file = {config_file}
Tue, 28 Mar 2023 19:28:30 data_preprocess_all.py[line:185] INFO READING CSV
Tue, 28 Mar 2023 19:28:30 data_preprocess_all.py[line:190] INFO READING DONE
Tue, 28 Mar 2023 19:28:30 data_preprocess_all.py[line:193] INFO SETTING MULTIPROCESSING with 1 workers
Tue, 28 Mar 2023 19:28:31 data_preprocess_all.py[line:210] INFO RUNNING
Tue, 28 Mar 2023 19:28:31 data_preprocess_all.py[line:132] INFO ##### PHASE 1 process:0 #####
Tue, 28 Mar 2023 19:28:31 data_preprocess_all.py[line:132] DEBUG ##### CANONICALIZATION process:0 #####
Tue, 28 Mar 2023 19:28:31 data_preprocess_all.py[line:132] DEBUG ##### CANONICALIZATION DONE process:0 #####
Tue, 28 Mar 2023 19:28:31 data_preprocess_all.py[line:132] DEBUG ##### SAVING CANON SMILES process:0 #####
Tue, 28 Mar 2023 19:28:31 data_preprocess_all.py[line:132] INFO ##### PHASE 2 process:0 #####
Tue, 28 Mar 2023 19:28:31 data_preprocess_all.py[line:132] DEBUG ##### DESTEREOCHEMICALIZATION process:0 #####
Tue, 28 Mar 2023 19:28:31 data_preprocess_all.py[line:132] DEBUG ##### DESTEREOCHEMICALIZATION DONE process:0 #####
Tue, 28 Mar 2023 19:28:31 data_preprocess_all.py[line:132] INFO ##### removed succesfully: ../datasets/tmp/1K/1K_chunk0_after_phase1.smi #####
Tue, 28 Mar 2023 19:28:31 data_preprocess_all.py[line:132] INFO ##### PHASE 3 process:0 #####
Tue, 28 Mar 2023 19:28:31 data_preprocess_all.py[line:132] DEBUG ##### LOADING DESTEREO SMILES process:0 #####
Tue, 28 Mar 2023 19:28:31 data_preprocess_all.py[line:132] DEBUG ##### DEDUPLICATION process:0 #####
Tue, 28 Mar 2023 19:28:31 data_preprocess_all.py[line:132] DEBUG ##### DEDUPLICATION DONE process:0 #####
Tue, 28 Mar 2023 19:28:31 data_preprocess_all.py[line:132] DEBUG ##### LONG SMILES FILTERING process:0 #####
Tue, 28 Mar 2023 19:28:31 data_preprocess_all.py[line:132] DEBUG ##### LONG SMILES FILTERING DONE process:0 #####
Tue, 28 Mar 2023 19:28:31 data_preprocess_all.py[line:132] DEBUG ##### CORRUPTED SMILES FILTERING process:0 #####
Tue, 28 Mar 2023 19:28:31 data_preprocess_all.py[line:132] DEBUG ##### SAVING SDF process:0 #####
Tue, 28 Mar 2023 19:28:31 data_preprocess_all.py[line:132] DEBUG ##### ADDING MOLECULE STRUCTURE process:0 #####
Tue, 28 Mar 2023 19:28:31 data_preprocess_all.py[line:132] DEBUG ##### EXPORTING TO SDF process:0 #####
Tue, 28 Mar 2023 19:28:32 data_preprocess_all.py[line:132] DEBUG ##### SAVING SDF DONE process:0 #####
Tue, 28 Mar 2023 19:28:32 data_preprocess_all.py[line:132] INFO ##### removed succesfully: ../datasets/tmp/1K/1K_chunk0_after_phase2.smi #####
Tue, 28 Mar 2023 19:28:32 data_preprocess_all.py[line:132] INFO ##### PHASE 4 process:0 #####
Tue, 28 Mar 2023 19:28:32 data_preprocess_all.py[line:132] DEBUG ##### SPECTRA GENERATION process:0 #####
Tue, 28 Mar 2023 19:28:41 data_preprocess_all.py[line:132] DEBUG ##### SPECTRA GENERATION DONE process:0 #####
Tue, 28 Mar 2023 19:28:41 data_preprocess_all.py[line:132] INFO ##### removed succesfully: ../datasets/tmp/1K/1K_chunk0_after_phase3_neims.sdf #####
Tue, 28 Mar 2023 19:28:41 data_preprocess_all.py[line:132] INFO ##### PHASE 5 process:0 #####
Tue, 28 Mar 2023 19:28:41 data_preprocess_all.py[line:132] DEBUG ##### 

LOADING GENERATED SPECTRA process:0 #####
Tue, 28 Mar 2023 19:28:41 data_preprocess_all.py[line:132] DEBUG ##### PROCESSING SPECTRA process:0 #####
Tue, 28 Mar 2023 19:28:41 data_preprocess_all.py[line:132] DEBUG ##### FILTERING HIGH MZs process:0 #####
Tue, 28 Mar 2023 19:28:41 data_preprocess_all.py[line:132] DEBUG ##### FILTERING LONG SPECTRA process:0 #####
Tue, 28 Mar 2023 19:28:41 data_preprocess_all.py[line:132] DEBUG ##### SAVING destereo_smiles mz intensity; process:0 #####
Tue, 28 Mar 2023 19:28:41 data_preprocess_all.py[line:132] INFO ##### removed succesfully: ../datasets/tmp/1K/1K_chunk0_after_phase4_neims.sdf #####
Tue, 28 Mar 2023 19:28:41 data_preprocess_all.py[line:132] INFO ##### PHASE 6 process:0 #####
Tue, 28 Mar 2023 19:28:41 data_preprocess_all.py[line:132] DEBUG ##### TOKENIZATION AND PADDING process:0 #####
Tue, 28 Mar 2023 19:28:41 data_preprocess_all.py[line:132] DEBUG ##### CREATING MASKS process:0 #####
Tue, 28 Mar 2023 19:28:41 data_preprocess_all.py[line:132] DEBUG ##### LOG BINNING INTENSITIES process:0 #####
Tue, 28 Mar 2023 19:28:41 data_preprocess_all.py[line:132] DEBUG ##### DROPPING USELESS COLUMNS process:0 #####
Tue, 28 Mar 2023 19:28:41 data_preprocess_all.py[line:132] INFO ##### len after PHASE6: 588 #####
Tue, 28 Mar 2023 19:28:41 data_preprocess_all.py[line:132] INFO ##### SPLITTING STATS process:{process_id}
################################################
train len: 529
test len: 30
valid len: 29
529 + 30 + 29 == 588 : the sum matches len of the df
################################################ #####
Tue, 28 Mar 2023 19:28:41 data_preprocess_all.py[line:132] DEBUG ##### PICKELING PREPARED DATA process:0 #####
Tue, 28 Mar 2023 19:28:41 data_preprocess_all.py[line:132] DEBUG ##### PHASE6 DONE process:0 #####
Tue, 28 Mar 2023 19:28:41 data_preprocess_all.py[line:132] INFO ##### removed succesfully: ../datasets/tmp/1K/1K_chunk0_after_phase5.pkl #####
Tue, 28 Mar 2023 19:28:41 data_preprocess_all.py[line:229] INFO SAVING ALL
Tue, 28 Mar 2023 19:28:42 data_preprocess_all.py[line:244] INFO ALL DONE, it all took: 0:00:11.018887
