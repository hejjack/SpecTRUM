command: ../predict.py --checkpoint ../checkpoints/finetune/fearless-wildflower-490_rassp1_neims1_224kPretrain_148k/checkpoint-147476
  --output-folder ../predictions --config-file ../configs/predict_config_cayman_beam50.yaml
cuda_visible_devices: '0'
dataloader:
  batch_size: 1
  num_workers: 1
dataset:
  data_path: ../data/datasets/extra_libraries/Cayman_library/Cayman_library.jsonl
  data_split: test
  dataset_name: Cayman
general:
  additional_naming_info: beam50
  device: cuda
generation_args:
  do_sample: false
  length_penalty: 1.0
  max_length: 200
  num_beams: 50
  num_return_sequences: 50
  penalty_alpha: null
  temperature: null
  top_k: null
  top_p: null
preprocess_args:
  inference_mode: false
  keep_all_columns: true
  log_base: 1.2
  log_shift: 39
  max_cumsum: null
  max_mol_repr_len: 100
  max_mz: 500
  max_num_peaks: 300
  mol_repr: smiles
  restrict_intensities: false
  source_token: <nist>
start_loading_time: 16/09/2024 23:23:32
tokenizer_path: ../tokenizer/bbpe_tokenizer/bart_bbpe_tokenizer_1M_mf10000000.model
finished_time_utc: 16/09/2024 23:59:46
generation_time: 00:36:08
wall_time_utc: 00:36:13
evaluation_0:
    average_num_of_predictions: '41.307277628032345'
    db_search:
        mean_db_score: '0.3162541157129898'
        mean_fpsd_score_probsort: '0.2531510580362013'
        mean_fpsd_score_similsort: '0.4262529284951531'
        percentage_of_BART_wins_probsort: '0.7789757412398922'
        percentage_of_BART_wins_similsort: '0.9002695417789758'
        percentage_of_ties_probsort: '0.005390835579514825'
        percentage_of_ties_similsort: '0.005390835579514825'
        ties:
            mean_tie_simils_probsort: '0.7156862745098039'
            mean_tie_simils_similsort: '0.803921568627451'
            num_of_ties_probsort: '2'
            num_of_ties_simils_equal_to_1_probsort: '0'
            num_of_ties_simils_equal_to_1_similsort: '0'
            num_of_ties_similsort: '2'
            percentage_of_ties_simils_equal_to_1_probsort: '0.0'
            percentage_of_ties_simils_equal_to_1_similsort: '0.0'
    eval_config:
        do_db_search: true
        filtering_args:
            max_mol_repr_len: 100
            max_mz: 500
            max_num_peaks: 300
            mol_repr: smiles
        fingerprint_type: morgan
        on_the_fly: true
        save_best_predictions: true
        fp_simil_function: tanimoto
        threshold: 0.85
    eval_time: 00:00:06
    formula_stats:
        num_all_correct_formulas: 1322 / 15325
        num_at_least_one_correct_formula: '225'
        num_correct_formulas_at_best_prob: '129'
        num_correct_formulas_at_best_simil: '165'
        percentage_of_all_correct_formulas: '0.0862642740619902'
        percentage_of_at_least_one_correct_formula: '0.6064690026954178'
        percentage_of_correct_formulas_at_best_prob: '0.3477088948787062'
        percentage_of_correct_formulas_at_best_simil: '0.444743935309973'
    hit_at_k_prob: '[(1, 0.15902964959568733), (2, 0.1940700808625337), (3, 0.24258760107816713),
        (4, 0.2560646900269542), (5, 0.2668463611859838), (6, 0.2857142857142857),
        (7, 0.2991913746630728), (8, 0.31266846361185985), (9, 0.32345013477088946),
        (10, 0.3261455525606469), (11, 0.3288409703504043), (12, 0.33962264150943394),
        (13, 0.3423180592991914), (14, 0.3477088948787062), (16, 0.353099730458221),
        (17, 0.3557951482479784), (18, 0.3584905660377358), (20, 0.3611859838274933),
        (25, 0.3665768194070081), (28, 0.3692722371967655), (31, 0.3719676549865229),
        (36, 0.3746630727762803), (38, 0.37735849056603776)]'
    labels_path: ../data/datasets/extra_libraries/Cayman_library/Cayman_library_with_db_index.jsonl
    num_datapoints_tested: '371'
    num_empty_preds: '0'
    num_predictions_at_k_counter: '[371, 371, 371, 370, 368, 367, 366, 365, 364, 363,
        363, 363, 363, 361, 358, 357, 356, 355, 353, 351, 350, 347, 346, 345, 341,
        338, 336, 333, 327, 323, 322, 316, 312, 308, 303, 297, 290, 284, 276, 264,
        250, 237, 232, 213, 193, 167, 150, 128, 90, 51]'
    precise_preds_stats:
        num_precise_preds_probsort: '58'
        num_precise_preds_similsort: '139'
        percentage_of_precise_preds_probsort: '0.15633423180592992'
        percentage_of_precise_preds_similsort: '0.3746630727762803'
    simil_1_hits:
        counter_multiple_hits: dict_items([(1, 132), (2, 5), (3, 3)])
        num_1_hits_as_first_probsort: '59'
        num_1_hits_as_first_similsort: '140'
        num_fp_simil_fail_prob: '1'
        num_fp_simil_fail_simil: '1'
        percentage_of_1_hits_as_first_probsort: '0.15902964959568733'
        percentage_of_1_hits_as_first_similsort: '0.37735849056603776'
    start_time_utc: 17/09/2024 10:01:03
    threshold_stats:
        num_better_than_threshold_probsort: '70'
        num_better_than_threshold_similsort: '158'
        percentage_of_better_than_threshold_probsort: '0.18867924528301888'
        percentage_of_better_than_threshold_similsort: '0.42587601078167114'
        threshold: '0.85'
    topk_probsort: '[0.5694051737491911, 0.4992911508161733, 0.49322695200817973,
        0.4741322610192199, 0.4492102132585603, 0.448034728647083, 0.4451422830226567,
        0.4335687171723416, 0.43529485986848837, 0.422189006781552, 0.4223455838051896,
        0.42969876082458414, 0.41262702550881114, 0.41754577693917344, 0.40793984189838417,
        0.41638461051423664, 0.4008008004640578, 0.4049913609330993, 0.39673183711250337,
        0.4040414448192612, 0.39790707400070807, 0.39722083362783794, 0.39145325467922265,
        0.38351366161612455, 0.3844114325913685, 0.38991070882753526, 0.3865659791331043,
        0.37927410366965425, 0.3702954414562874, 0.3733191697987666, 0.3715193088626846,
        0.3794665366467013, 0.374205960308983, 0.3724902568302912, 0.3583385032981216,
        0.3540423450803889, 0.3631622887428202, 0.3600538785624089, 0.3502315898109655,
        0.34821674109046297, 0.3548455401025812, 0.34508709175573765, 0.3487171542284729,
        0.34466678550635704, 0.33641549983651686, 0.3333967021645385, 0.3255554618317131,
        0.3403875012139615, 0.31817941015261886, 0.3085171377034304]'
    topk_similsort: '[0.742507044208143, 0.6516698692496663, 0.6014853204970595, 0.5662028787744786,
        0.5411665132070277, 0.5216727306823105, 0.505895644898553, 0.4930517482719317,
        0.48008206662642927, 0.46923506031364004, 0.4601014132800367, 0.45212894240792467,
        0.4437201535793825, 0.4341607133728746, 0.4267617799706762, 0.4188641082964009,
        0.4115592050310877, 0.40497203850525304, 0.3977222758385703, 0.3911448581975318,
        0.3850103880606955, 0.3780942044910274, 0.37235901314268866, 0.3672557803203616,
        0.36192632984847706, 0.3577658503388657, 0.35321416905601216, 0.3482987269782802,
        0.3444157879929802, 0.3375532141350962, 0.33160182340136835, 0.3274168957449094,
        0.32294181818667145, 0.3179907726368603, 0.3133369264575353, 0.30783548259797827,
        0.3030848757421332, 0.29834882271754354, 0.29231372688712715, 0.2860067876726256,
        0.2818169991415372, 0.2767146337084085, 0.2692429478785709, 0.2634772010266503,
        0.25752481395388416, 0.24833269655543608, 0.24144683182870183, 0.23512608859139736,
        0.2249475734815545, 0.20573460924105952]'
