command: ../predict.py --checkpoint ../checkpoints/finetune/fearless-wildflower-490_rassp1_neims1_224kPretrain_148k/checkpoint-147476
  --output-folder ../predictions --config-file ../configs/predict_config_swgdrug_beam50.yaml
cuda_visible_devices: '0'
dataloader:
  batch_size: 1
  num_workers: 1
dataset:
  data_path: ../data/datasets/extra_libraries/SWGDRUG_3/SWGDRUG_3.jsonl
  data_split: test
  dataset_name: SWGDRUG
general:
  additional_naming_info: beam50
  device: cuda
generation_args:
  do_sample: false
  length_penalty: 1.0
  max_length: 200
  num_beams: 50
  num_return_sequences: 50
  penalty_alpha: null
  temperature: null
  top_k: null
  top_p: null
preprocess_args:
  inference_mode: false
  keep_all_columns: true
  log_base: 1.2
  log_shift: 39
  max_cumsum: null
  max_mol_repr_len: 100
  max_mz: 500
  max_num_peaks: 300
  mol_repr: smiles
  restrict_intensities: false
  source_token: <nist>
start_loading_time: 15/09/2024 23:21:46
tokenizer_path: ../tokenizer/bbpe_tokenizer/bart_bbpe_tokenizer_1M_mf10000000.model
finished_time_utc: 16/09/2024 01:04:47
generation_time: 01:42:58
wall_time_utc: 01:43:01
evaluation_0:
    average_num_of_predictions: '38.65149136577708'
    db_search:
        mean_db_score: '0.33473974870290424'
        mean_fpsd_score_probsort: '0.30042452939710634'
        mean_fpsd_score_similsort: '0.4967693957894094'
        percentage_of_BART_wins_probsort: '0.8163265306122449'
        percentage_of_BART_wins_similsort: '0.9513343799058085'
        percentage_of_ties_probsort: '0.0015698587127158557'
        percentage_of_ties_similsort: '0.0015698587127158557'
        ties:
            mean_tie_simils_probsort: '0.7625'
            mean_tie_simils_similsort: '0.7625'
            num_of_ties_probsort: '2'
            num_of_ties_simils_equal_to_1_probsort: '0'
            num_of_ties_simils_equal_to_1_similsort: '0'
            num_of_ties_similsort: '2'
            percentage_of_ties_simils_equal_to_1_probsort: '0.0'
            percentage_of_ties_simils_equal_to_1_similsort: '0.0'
    eval_config:
        do_db_search: true
        filtering_args:
            max_mol_repr_len: 100
            max_mz: 500
            max_num_peaks: 300
            mol_repr: smiles
        fingerprint_type: morgan
        on_the_fly: true
        save_best_predictions: true
        fp_simil_function: tanimoto
        threshold: 0.85
    eval_time: 00:00:14
    formula_stats:
        num_all_correct_formulas: 5462 / 49242
        num_at_least_one_correct_formula: '1080'
        num_correct_formulas_at_best_prob: '658'
        num_correct_formulas_at_best_simil: '861'
        percentage_of_all_correct_formulas: '0.11092157101661183'
        percentage_of_at_least_one_correct_formula: '0.847723704866562'
        percentage_of_correct_formulas_at_best_prob: '0.5164835164835165'
        percentage_of_correct_formulas_at_best_simil: '0.6758241758241759'
    hit_at_k_prob: '[(1, 0.25353218210361067), (2, 0.3304552590266876), (3, 0.36106750392464676),
        (4, 0.3869701726844584), (5, 0.41444270015698587), (6, 0.4340659340659341),
        (7, 0.4474097331240188), (8, 0.45604395604395603), (9, 0.4717425431711146),
        (10, 0.4772370486656201), (11, 0.4827315541601256), (12, 0.489010989010989),
        (13, 0.49686028257456827), (14, 0.5015698587127159), (15, 0.5070643642072213),
        (16, 0.5117739403453689), (17, 0.5156985871271585), (18, 0.5227629513343799),
        (19, 0.5282574568288854), (20, 0.532967032967033), (21, 0.5368916797488226),
        (22, 0.5416012558869702), (23, 0.543171114599686), (24, 0.5439560439560439),
        (25, 0.5455259026687598), (26, 0.5478806907378336), (27, 0.5486656200941915),
        (28, 0.5510204081632653), (29, 0.5525902668759811), (30, 0.554945054945055),
        (33, 0.5557299843014128), (34, 0.5572998430141287), (35, 0.5580847723704867),
        (36, 0.5588697017268446), (37, 0.5604395604395604), (40, 0.5612244897959183),
        (46, 0.5620094191522763)]'
    labels_path: ../data/datasets/extra_libraries/SWGDRUG_3/SWGDRUG_3_with_db_index.jsonl
    num_datapoints_tested: '1274'
    num_empty_preds: '0'
    num_predictions_at_k_counter: '[1274, 1272, 1268, 1265, 1261, 1258, 1254, 1250,
        1242, 1235, 1231, 1224, 1211, 1206, 1196, 1193, 1176, 1168, 1159, 1146, 1135,
        1121, 1111, 1097, 1090, 1081, 1066, 1052, 1037, 1022, 1010, 989, 973, 957,
        929, 904, 878, 846, 820, 785, 752, 710, 664, 614, 549, 489, 399, 319, 230,
        124]'
    precise_preds_stats:
        num_precise_preds_probsort: '323'
        num_precise_preds_similsort: '714'
        percentage_of_precise_preds_probsort: '0.25353218210361067'
        percentage_of_precise_preds_similsort: '0.5604395604395604'
    simil_1_hits:
        counter_multiple_hits: dict_items([(1, 692), (2, 21), (3, 3)])
        num_1_hits_as_first_probsort: '323'
        num_1_hits_as_first_similsort: '716'
        num_fp_simil_fail_prob: '0'
        num_fp_simil_fail_simil: '2'
        percentage_of_1_hits_as_first_probsort: '0.25353218210361067'
        percentage_of_1_hits_as_first_similsort: '0.5620094191522763'
    start_time_utc: 16/09/2024 09:08:34
    threshold_stats:
        num_better_than_threshold_probsort: '344'
        num_better_than_threshold_similsort: '748'
        percentage_of_better_than_threshold_probsort: '0.27001569858712715'
        percentage_of_better_than_threshold_similsort: '0.5871271585557299'
        threshold: '0.85'
    topk_probsort: '[0.6351642781000106, 0.5404463066749248, 0.5073836442107373, 0.48921471187196586,
        0.47998079940097993, 0.4717681523900357, 0.46214645968201484, 0.457083351427184,
        0.44927816364633305, 0.43748392773126243, 0.43359165165247265, 0.43895168397141426,
        0.4399591551189659, 0.43470645388421086, 0.42927752126900387, 0.42572562726670193,
        0.42721818096114667, 0.4123261042416627, 0.4165670846861349, 0.41407129462263864,
        0.41258196152500776, 0.41242042325529243, 0.40513986730599955, 0.4015638475052455,
        0.40764596908012785, 0.40775849800107894, 0.40218152915790817, 0.3958318334389698,
        0.39803070415924846, 0.39877510930997323, 0.40030246557201815, 0.38873099391644617,
        0.3913090161321602, 0.39011255134951334, 0.38575025164244553, 0.37792441615292527,
        0.3856766908912297, 0.37272713588618506, 0.37099531916297107, 0.37601669470182636,
        0.35958772901193997, 0.3584415315779167, 0.3545853888418348, 0.34708147207035783,
        0.3493488972692254, 0.3420926830485536, 0.3428672558941121, 0.32262557185388496,
        0.3317080062167729, 0.3162987411446219]'
    topk_similsort: '[0.8315091444923136, 0.6953409952009239, 0.6382847111945836,
        0.6012792380419981, 0.5734921035082418, 0.5517749091980979, 0.5332933637538252,
        0.5187788589444826, 0.5057575256093122, 0.493176571807686, 0.4817508004067627,
        0.47178181762147314, 0.46367206647426545, 0.4543717526726919, 0.4455937963620215,
        0.43588086680307275, 0.4287164225818127, 0.4207108213853983, 0.41342787983940466,
        0.40698240995263374, 0.40040258237707516, 0.3943856911658586, 0.3883094303343344,
        0.3828086353666302, 0.376048402608379, 0.36940759334201023, 0.3641127860917264,
        0.3583003899718145, 0.35262649094178644, 0.34580609502859777, 0.3390260450306171,
        0.3329903136552071, 0.32752631271914173, 0.3211329131643503, 0.3153685821081502,
        0.3076151652341439, 0.3020200453868031, 0.2956673265423433, 0.28945069959388603,
        0.2828262073519305, 0.2755238837589527, 0.2687948243095956, 0.26063638928477706,
        0.2524181814336428, 0.24460448888310354, 0.23754798324504045, 0.22663543267196273,
        0.21677322245099429, 0.211871514109489, 0.19395427518173722]'
