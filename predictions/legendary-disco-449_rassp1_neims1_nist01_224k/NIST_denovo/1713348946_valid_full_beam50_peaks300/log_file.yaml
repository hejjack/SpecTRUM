command: ../predict.py --checkpoint ../checkpoints/finetune/legendary-disco-449_rassp1_neims1_nist01_224k/checkpoint-73738
  --output-folder ../predictions --config-file ../configs/predict_config_nist_valid_beam50.yaml
cuda_visible_devices: GPU-8e74cf43-5203-c137-d181-ea01eb79911e
dataloader:
  batch_size: 1
  num_workers: 1
dataset:
  data_path: ../data/datasets/NIST/NIST_split_filip/denovo_data/valid_with_denovo_info.jsonl
  data_split: valid
  dataset_name: NIST_denovo
general:
  additional_naming_info: beam10_peaks300
  device: cuda
generation_args:
  do_sample: false
  length_penalty: 1.0
  max_length: 200
  num_beams: 50
  num_return_sequences: 50
  penalty_alpha: null
  temperature: null
  top_k: null
  top_p: null
preprocess_args:
  inference_mode: false
  keep_all_columns: true
  log_base: 1.7
  log_shift: 9
  max_cumsum: null
  max_mol_repr_len: 100
  max_mz: 500
  max_num_peaks: 300
  mol_repr: smiles
  restrict_intensities: false
  source_token: <nist>
start_loading_time: 17/04/2024 12:15:46
tokenizer_path: ../tokenizer/bbpe_tokenizer/bart_bbpe_tokenizer_1M_mf10000000.model
finished_time_utc: 18/04/2024 03:10:54
generation_time: '14:55:05'
wall_time_utc: '14:55:08'
evaluation_0:
  counter_datapoints_tested: '28177'
  counter_empty_preds: '0'
  counter_fp_simil_fails_preds: '2572'
  denovo:
    mean_db_score: '0.39116428833407746'
    mean_fpsd_score_probsort: '0.2131039697008087'
    mean_fpsd_score_similsort: '0.42641037441690616'
    percentage_of_BART_wins_probsort: '0.7194875252865812'
    percentage_of_BART_wins_similsort: '0.8951627213684921'
  eval_config:
    do_denovo: true
    filtering_args:
      max_mol_repr_len: 100
      max_mz: 500
      max_num_peaks: 300
      mol_repr: smiles
    fingerprint_type: morgan
    on_the_fly: true
    save_best_predictions: true
    simil_function: tanimoto
    threshold: 0.85
  eval_time: 00:03:18
  labels_path: ../data/datasets/NIST/NIST_split_filip/denovo_data/valid_with_denovo_info.jsonl
  num_better_than_threshold_probsort: '9672'
  num_better_than_threshold_similsort: '18653'
  num_predictions_at_k_counter: '[28177, 28010, 27786, 27571, 27392, 27217, 27034,
    26868, 26695, 26524, 26331, 26159, 25973, 25746, 25522, 25298, 25059, 24807, 24534,
    24251, 23970, 23651, 23310, 22979, 22596, 22221, 21814, 21386, 20913, 20430, 19891,
    19381, 18796, 18224, 17542, 16883, 16190, 15501, 14739, 13901, 13042, 12067, 11036,
    10017, 8835, 7580, 6171, 4717, 3177, 1585]'
  num_probsort_precise_preds: '9279'
  num_similsort_precise_preds: '18463'
  percentage_of_better_than_threshold_probsort: '0.34325868616247296'
  percentage_of_better_than_threshold_similsort: '0.6619938247506831'
  percentage_of_precise_preds_probsort: '0.3293111402917273'
  percentage_of_precise_preds_similsort: '0.655250736416226'
  start_time_utc: 20/04/2024 10:30:43
  topk_probsort: '[0.6042682580348862, 0.5100981873870003, 0.46912107760005617, 0.44629594239093123,
    0.432458950783692, 0.42094538699662204, 0.4128193143954178, 0.40768592334810255,
    0.4028810015112093, 0.39628461384372665, 0.3938185656332828, 0.38926347788374077,
    0.38526890647922724, 0.38191512511456904, 0.3792967315222782, 0.3744418846540661,
    0.3736106585924332, 0.37158566121353825, 0.3669511815341814, 0.3637036385424886,
    0.36142564331239313, 0.35920120759746393, 0.3570103884314792, 0.35145659870822377,
    0.34955355883997624, 0.34739155759829327, 0.3422087928231517, 0.33779423237264156,
    0.33422432486889186, 0.33123221170258393, 0.32821929435303276, 0.3244046275642673,
    0.3211175904806167, 0.31817876906659737, 0.3137396671222794, 0.30947910130034595,
    0.30710435392834506, 0.3037105348804847, 0.29815511889066654, 0.29309868414870544,
    0.2882741253982426, 0.28366828010228584, 0.2806172649118692, 0.2762990292911557,
    0.2730774926060787, 0.2696992993686534, 0.2653493451411565, 0.26152104908653034,
    0.25516932295943445, 0.2589992212920485]'
  topk_similsort: '[0.8175746627509836, 0.6460843085123449, 0.5854449560631324, 0.5471090324291278,
    0.5187500406279609, 0.49607413870864325, 0.4777875853849941, 0.46173527186111574,
    0.44787605532103336, 0.4351034727791125, 0.42365689536920353, 0.4128567725444847,
    0.40294556527903047, 0.3937017176460265, 0.38491308903861043, 0.3765043296961319,
    0.3686457172996189, 0.36073725234781606, 0.3533237695778157, 0.345972514719677,
    0.33877803059019335, 0.3316325937685233, 0.3246054162864878, 0.31762815072401185,
    0.3109452897642223, 0.3043604400430338, 0.2976821469940362, 0.2910934130850053,
    0.28461380658869273, 0.27800253002928305, 0.27193422403969325, 0.26512381348814157,
    0.25874298861367967, 0.25256354704854894, 0.24649210365237909, 0.24032489456255643,
    0.23483283293113613, 0.22862623314153943, 0.22228120924497394, 0.21584965557224295,
    0.20964166764218795, 0.20371749304143577, 0.19756827027597212, 0.19111367539313878,
    0.1856676379559789, 0.1793671560580452, 0.1717239035407428, 0.16617987724201663,
    0.15775122522819907, 0.15387780130070128]'
evaluation_1:
  counter_datapoints_tested: '28177'
  counter_empty_preds: '0'
  counter_fp_simil_fails_preds: '2572'
  denovo:
    mean_db_score: '0.39116428833407746'
    mean_fpsd_score_probsort: '0.2131039697008087'
    mean_fpsd_score_similsort: '0.42641037441690616'
    percentage_of_BART_wins_probsort: '0.7194875252865812'
    percentage_of_BART_wins_similsort: '0.8951627213684921'
  eval_config:
    do_denovo: true
    filtering_args:
      max_mol_repr_len: 100
      max_mz: 500
      max_num_peaks: 300
      mol_repr: smiles
    fingerprint_type: morgan
    on_the_fly: true
    save_best_predictions: true
    simil_function: tanimoto
    threshold: 0.85
  eval_time: 00:03:18
  labels_path: ../data/datasets/NIST/NIST_split_filip/denovo_data/valid_with_denovo_info.jsonl
  num_better_than_threshold_probsort: '9672'
  num_better_than_threshold_similsort: '18653'
  num_predictions_at_k_counter: '[28177, 28010, 27786, 27571, 27392, 27217, 27034,
    26868, 26695, 26524, 26331, 26159, 25973, 25746, 25522, 25298, 25059, 24807, 24534,
    24251, 23970, 23651, 23310, 22979, 22596, 22221, 21814, 21386, 20913, 20430, 19891,
    19381, 18796, 18224, 17542, 16883, 16190, 15501, 14739, 13901, 13042, 12067, 11036,
    10017, 8835, 7580, 6171, 4717, 3177, 1585]'
  num_probsort_precise_preds: '9279'
  num_similsort_precise_preds: '18463'
  percentage_of_better_than_threshold_probsort: '0.34325868616247296'
  percentage_of_better_than_threshold_similsort: '0.6619938247506831'
  percentage_of_precise_preds_probsort: '0.3293111402917273'
  percentage_of_precise_preds_similsort: '0.655250736416226'
  start_time_utc: 20/04/2024 10:38:08
  topk_probsort: '[0.6042682580348862, 0.5100981873870003, 0.46912107760005617, 0.44629594239093123,
    0.432458950783692, 0.42094538699662204, 0.4128193143954178, 0.40768592334810255,
    0.4028810015112093, 0.39628461384372665, 0.3938185656332828, 0.38926347788374077,
    0.38526890647922724, 0.38191512511456904, 0.3792967315222782, 0.3744418846540661,
    0.3736106585924332, 0.37158566121353825, 0.3669511815341814, 0.3637036385424886,
    0.36142564331239313, 0.35920120759746393, 0.3570103884314792, 0.35145659870822377,
    0.34955355883997624, 0.34739155759829327, 0.3422087928231517, 0.33779423237264156,
    0.33422432486889186, 0.33123221170258393, 0.32821929435303276, 0.3244046275642673,
    0.3211175904806167, 0.31817876906659737, 0.3137396671222794, 0.30947910130034595,
    0.30710435392834506, 0.3037105348804847, 0.29815511889066654, 0.29309868414870544,
    0.2882741253982426, 0.28366828010228584, 0.2806172649118692, 0.2762990292911557,
    0.2730774926060787, 0.2696992993686534, 0.2653493451411565, 0.26152104908653034,
    0.25516932295943445, 0.2589992212920485]'
  topk_similsort: '[0.8175746627509836, 0.6460843085123449, 0.5854449560631324, 0.5471090324291278,
    0.5187500406279609, 0.49607413870864325, 0.4777875853849941, 0.46173527186111574,
    0.44787605532103336, 0.4351034727791125, 0.42365689536920353, 0.4128567725444847,
    0.40294556527903047, 0.3937017176460265, 0.38491308903861043, 0.3765043296961319,
    0.3686457172996189, 0.36073725234781606, 0.3533237695778157, 0.345972514719677,
    0.33877803059019335, 0.3316325937685233, 0.3246054162864878, 0.31762815072401185,
    0.3109452897642223, 0.3043604400430338, 0.2976821469940362, 0.2910934130850053,
    0.28461380658869273, 0.27800253002928305, 0.27193422403969325, 0.26512381348814157,
    0.25874298861367967, 0.25256354704854894, 0.24649210365237909, 0.24032489456255643,
    0.23483283293113613, 0.22862623314153943, 0.22228120924497394, 0.21584965557224295,
    0.20964166764218795, 0.20371749304143577, 0.19756827027597212, 0.19111367539313878,
    0.1856676379559789, 0.1793671560580452, 0.1717239035407428, 0.16617987724201663,
    0.15775122522819907, 0.15387780130070128]'
